<nav class="navbar">
    <div class="nav-brand">
        <h2>🚰 SOAKOJA</h2>
    </div>
    <div class="nav-user">
        <% if (typeof user !== 'undefined' && user) { %>
            <span class="user-info">
                Bonjour, <strong><%- user.prenom %></strong> (<%- user.poste %>)
            </span>
        <% } %>
        
        <a href="/dashboard" class="btn btn-sm">← Tableau de bord</a>
        <button id="theme-toggle" class="btn btn-sm" title="Changer de thème">🌙</button>
        <a href="/logout" class="btn btn-sm">Déconnexion</a>
    </div>
</nav>

<script>
    // Logique pour le changement de thème
    document.addEventListener('DOMContentLoaded', () => {
        const themeToggle = document.getElementById('theme-toggle');
        const currentTheme = localStorage.getItem('theme') || 'light';

        document.documentElement.setAttribute('data-theme', currentTheme);
        themeToggle.textContent = currentTheme === 'dark' ? '☀️' : '🌙';

        themeToggle.addEventListener('click', () => {
            let theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            themeToggle.textContent = theme === 'dark' ? '☀️' : '🌙';
        });
    });
</script>